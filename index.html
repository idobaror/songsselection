<script>
  const CSV_URL = "https://docs.google.com/spreadsheets/d/1Rg_O_ZIoFa4uQZgUs4viuJjl6PWzzSgcFsozD0T0mWs/gviz/tq?tqx=out:csv";

  function parseCSV(data) {
    const lines = data.trim().split("\n");
    const rows = lines.map(line => line.split(","));
    const headers = rows[0];
    const result = [];

    for (let i = 1; i < rows.length; i++) {
      let row = {};
      for (let j = 0; j < headers.length; j++) {
        row[headers[j].trim()] = rows[i][j] ? rows[i][j].trim() : "";
      }
      result.push(row);
    }
    return result;
  }

  fetch(CSV_URL)
    .then(response => response.text())
    .then(text => {
      const entries = parseCSV(text);
      // המשך עיבוד הנתונים והצגתם באתר
    })
    .catch(err => {
      console.error("אירעה שגיאה בטעינת השירים:", err);
    });
</script>
